(function(){let e=this;const t={noInitialRun:!0,arguments:["--verbose","--menu"],preRun:[],postRun:[],print:e=>{},printErr:e=>{if(/Video\s@\s\d+x\d+\.?\s*$/.test(e)||/Set\s?video\s?size\s?to:\s?\d+x\d+\s?\.?\s?/.test(e)){let i=e.trim().split(" ").pop().split("x");t.resizeCanvasSize(i)}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e)},onRunning:!1,memFile:{},js_replace:e=>e.replace(/_RWebAudioInit\(latency\)\s?\{/,"_RWebAudioInit(latency){Module.latency=latency;").replace(/function\s?_RWebAudioStart\(\)\s?\{/,"function _RWebAudioStart() {if(RA.context && RA.context.state != Module.RA_isRUN) return Module.RA_RERUN(RA);").replace(/_RWebAudioWrite\(\)\s?\{/,"_RWebAudioWrite(buf,size){if(RA.context&&RA.context.state != Module.RA_isRUN)return Module.RA_RERUN(RA);\n").replace(/function\s?_RWebCamInit\(caps1,\s?caps2,\s?width,\s?height\)\s?\{/,"function _RWebCamInit( caps1, caps2, width, height) {return 0;").replace(/\"mouse(up|down|move|enter|leave)\"/g,'"pointer$1"').replace(/calledRun\s?=\s?true;/,"calledRun = Module.calledRun = true;").replace(/calledMain\s?=\s?true/,"calledMain = true;Module.onRunning=true;").replace(/HEAP32\[idx\s?\+\s?9\]\s?=\s?e\["movementX"\];\n?\s*HEAP32\[idx\s?\+\s?10\]\s?=\s?e\["movementY"\];\n?\s*var\s?rect\s?=\s?getBoundingClientRect\(target\);/,'var movementX = e.movementX || e.pageY - JSEvents.previousScreenX;\n            var movementY = e.movementY || e.pageY - JSEvents.previousScreenY;\n            HEAP32[idx + 9] = movementX;\n            HEAP32[idx + 10] = movementY;\n            if (e.type !== "wheel" && e.type !== "mousewheel") {\n                JSEvents.previousScreenX = e.pageY;\n                JSEvents.previousScreenY = e.pageY\n            }\n            var rect = Module.get_canvas_rect(e,true);\n            ').replace(/var rect\s?=\s?__specialEventTargets\.indexOf\(target\)\s?\s?<\s?0\s?\?\s?__getBoundingClientRect\(target\)\s?:\s?\{\n?\s*"left":\s?0,\n?\s*"top":\s?0\n?\s*\};\n?\s*/,"var rect = Module.get_canvas_rect(e,true);\n            ").replace(/Module\["run"\]\s?=\s?run;/,";((m,n)=>{\n                    m.FS = FS,m.GL = GL,m.SYSCALLS = SYSCALLS,m.RA = RA;\n                    if(!m.HEAP8)m.HEAP8 = HEAP8;\n                    m.set_fs_init(n,FS||m.FS,HEAP8||m.HEAP8);\n                    m.run=run;\n                })(Module,MEMFS);").replace(/eventHandler\.useCapture\s?\)/,"eventHandler.useCapture||{passive: false})").replace(/return\s?WebAssembly\.instantiate\(binary,\s?info\)/,"return WebAssembly.instantiate(binary, info).catch(e=>alert(JSON.stringify(e)))"),set_fs_init:(i,n,s)=>{t.FileDB=new e.FsMount({MEMFS:i,FS:n,HEAP8:s})},locateFile:function(t){return this.memFile[t.split("/").pop()]?this.memFile[t.split("/").pop()]:e.JSpath+"cores/"+t},stopEvent:e=>(e.preventDefault(),!1),stopGesture:e=>{["gotpointercapture","dblclick","gesturestart","gesturechange","gestureend"].forEach((i=>this.on(e,i,(e=>t.stopEvent(e)),{passive:!1})))},RA_isRUN:"running",RA_isSTOP:"suspended",RA_REST:e=>{if((e=e||t.RA).context&&e.context.resume(),!e.context||e.context.state!=t.RA_isRUN){e.bufIndex=0,e.bufOffset=0;var i=window.AudioContext||window.webkitAudioContext;e.context&&(e.context.close(),delete e.context),e.context=new i,e.numBuffers=t.latency*e.context.sampleRate/(1e3*e.BUFFER_SIZE)|0,e.numBuffers<2&&(e.numBuffers=2);for(var n=0;n<e.numBuffers;n++)e.buffers[n]=e.context.createBuffer(2,e.BUFFER_SIZE,e.context.sampleRate),e.buffers[n].endTime=0;e.nonblock=!1,e.startTime=0,e.context.createGain(),e.setStartTime(),e.context.resume()}t.resumeMainLoop()},RA_RERUN:e=>(t.pauseMainLoop&&t.pauseMainLoop(),t.RA_CLICK((()=>{t.RA_REST(e)})),1),RA_ELM:e.$(".g-mobile-click"),RA_CLICK:i=>{let n=t.RA_ELM;n.hidden&&(n.hidden=!1,e.once(n,"pointerdown",(()=>{n.hidden=!0,i()})))},get_canvas_rect:(e,i)=>{let n=t.canvas.getBoundingClientRect();if(n.width!=t.canvas.widthNative){let s=t.canvas.widthNative/n.width;n={left:(i?e.clientX:0)+(n.left-e.clientX)*s,top:(i?e.clientY:0)+(n.top-e.clientY)*s}}return n},resizeCanvasSize:i=>{if(i&&([t.width,t.height]=i,t.AspectRatio=t.width/t.height),t.AspectRatio){let i=this.$(".g-game-ui").getBoundingClientRect(),n=t.canvasQuality||720,s=t.AspectRatio;e.isMobile?void 0!==window.orientation&&0!=window.orientation?(e.$(".g-game-ctrl").style.top="45px",s=i.width/i.height):e.$(".g-game-ctrl").hidden||(w=i.width,h=i.width/s,h>i.height&&(h=i.height,w=i.height*s),e.$(".g-game-ctrl").style.top=(e.isMobile&&h!=i.height?h:0)+45+"px"):(s=i.width/i.height,n=i.height>n?i.height:n),t.setCanvasSize&&t.setCanvasSize(n*s,n)}},KeyDown:(e,i)=>{if("string"==typeof e&&(e=[e]),e.forEach((e=>t.keyCode_enter(t.keyCode_map["input_"+e],1,e))),i)return t.stopEvent(i)},KeyUp:(e,i)=>{if("string"==typeof e&&(e=[e]),e.forEach((e=>t.keyCode_enter(t.keyCode_map["input_"+e],0,e))),i)return t.stopEvent(i)},KeyCode_click:i=>{t.KeyDown(i),setTimeout((()=>t.KeyUp(i)),e.speed)},keyCode_enter:(e,i,n)=>{if(void 0===e||""==e||"nul"==e||"null"==e)return;if(t.myKeyEnter)return t.myKeyEnter(i,e,n);let s=t.keyCode_list[e];if(void 0===s)return;let o="string"==typeof s?{code:s,key:e}:Object.assign(s,{key:e});document.dispatchEvent(new KeyboardEvent(i?"keydown":"keyup",o))},keyCode_map:{input_player1_a:"x",input_player1_b:"z",input_player1_x:"s",input_player1_y:"a",input_player1_l:"q",input_player1_l2:"nul",input_player1_l3:"nul",input_player1_r:"w",input_player1_r2:"nul",input_player1_r3:"nul",input_player1_up:"up",input_player1_left:"left",input_player1_right:"right",input_player1_down:"down",input_player1_select:"rshift",input_player1_start:"enter",input_player1_turbo:"nul",input_player1_l_x_minus:"nul",input_player1_l_x_plus:"nul",input_player1_l_y_minus:"nul",input_player1_l_y_plus:"nul",input_player1_r_x_minus:"nul",input_player1_r_x_plus:"nul",input_player1_r_y_minus:"nul",input_player1_r_y_plus:"nul",input_toggle_fast_forward:"space",input_toggle_fullscreen:"f",input_reset:"h",input_screenshot:"f8",input_load_state:"f4",input_save_state:"f2",input_menu_toggle:"f1",input_toggle_slowmotion:"nul",input_pause_toggle:"p"},keyCode_list:{tilde:"Backquote",num1:"Digit1",num2:"Digit2",num3:"Digit3",num4:"Digit4",num5:"Digit5",num6:"Digit6",num7:"Digit7",num8:"Digit8",num9:"Digit9",num0:"Digit0",minus:"Minus",equal:"Equal",backspace:"Backspace",tab:"Tab",q:"KeyQ",w:"KeyW",e:"KeyE",r:"KeyR",t:"KeyT",y:"KeyY",u:"KeyU",i:"KeyI",o:"KeyO",p:"KeyP",a:"KeyA",s:"KeyS",d:"KeyD",f:"KeyF",g:"KeyG",h:"KeyH",j:"KeyJ",k:"KeyK",l:"KeyL",z:"KeyZ",x:"KeyX",c:"KeyC",v:"KeyV",b:"KeyB",n:"KeyN",m:"KeyM",leftbracket:"BracketLeft",rightbracket:"BracketRight",backslash:"Backslash",capslock:"CapsLock",semicolon:"Semicolon",quote:"Quote",enter:"Enter",shift:"ShiftLeft",comma:"Comma",period:"Period",slash:"Slash",rshift:"ShiftRight",ctrl:"ControlLeft",lmeta:"MetaLeft",alt:"AltLeft",space:"Space",ralt:"AltRight",menu:"ContextMenu",rctrl:"ControlRight",up:"ArrowUp",left:"ArrowLeft",down:"ArrowDown",right:"ArrowRight",kp_period:"NumpadDecimal",kp_enter:"NumpadEnter",keypad0:"Numpad0",keypad1:"Numpad1",keypad2:"Numpad2",keypad3:"Numpad3",keypad4:"Numpad4",keypad5:"Numpad5",keypad6:"Numpad6",keypad7:"Numpad7",keypad8:"Numpad8",keypad9:"Numpad9",add:"NumpadAdd",numlock:"NumLock",divide:"NumpadDivide",multiply:"NumpadMultiply",subtract:"NumpadSubtract",home:"Home",end:"End",pageup:"PageUp",pagedown:"PageDown",del:"Delete",insert:"Insert",f12:"F12",f10:"F10",f9:"F9",f8:"F8",f7:"F7",f6:"F6",f5:"F5",f4:"F4",f3:"F3",f2:"F2",f1:"F1",escape:"Escape","`":{code:"Backquote"},"-":{code:"Minus"},"=":{code:"Equal"},"[":{code:"BracketLeft"},"]":{code:"BracketRight"},"\\":{code:"Backslash"},";":{code:"Semicolon"},"'":{code:"Quote"},",":{code:"Comma"},".":{code:"Period"},"/":{code:"Slash"},"\t":{code:"Tab"},"\n":{code:"Enter"}," ":{code:"Space"},Q:{code:"KeyQ",shift:!0},W:{code:"KeyW",shift:!0},E:{code:"KeyE",shift:!0},R:{code:"KeyR",shift:!0},T:{code:"KeyT",shift:!0},Y:{code:"KeyY",shift:!0},U:{code:"KeyU",shift:!0},I:{code:"KeyI",shift:!0},O:{code:"KeyO",shift:!0},P:{code:"KeyP",shift:!0},A:{code:"KeyA",shift:!0},S:{code:"KeyS",shift:!0},D:{code:"KeyD",shift:!0},F:{code:"KeyF",shift:!0},G:{code:"KeyG",shift:!0},H:{code:"KeyH",shift:!0},J:{code:"KeyJ",shift:!0},K:{code:"KeyK",shift:!0},L:{code:"KeyL",shift:!0},Z:{code:"KeyZ",shift:!0},X:{code:"KeyX",shift:!0},C:{code:"KeyC",shift:!0},V:{code:"KeyV",shift:!0},B:{code:"KeyB",shift:!0},N:{code:"KeyN",shift:!0},M:{code:"KeyM",shift:!0},")":{code:"Digit0",shift:!0},"!":{code:"Digit1",shift:!0},"@":{code:"Digit2",shift:!0},"#":{code:"Digit3",shift:!0},$:{code:"Digit4",shift:!0},"%":{code:"Digit5",shift:!0},"^":{code:"Digit6",shift:!0},"&":{code:"Digit7",shift:!0},"*":{code:"Digit8",shift:!0},"(":{code:"Digit9",shift:!0},"~":{code:"Backquote",shift:!0},_:{code:"Minus",shift:!0},"+":{code:"Equal",shift:!0},"{":{code:"BracketLeft",shift:!0},"}":{code:"BracketRight",shift:!0},"|":{code:"Backslash",shift:!0},":":{code:"Semicolon",shift:!0},'"':{code:"Quote",shift:!0},"<":{code:"Comma",shift:!0},">":{code:"Period",shift:!0},"?":{code:"Slash",shift:!0}},sys_map:{psx:["bin","iso","cue","img","mdf","pbp","toc","cbn","m3u"],nds:["nds","bin"],nes:["fds","nes","unif","unf"],mesen:["fds","nes","unif","unf"],snes:["smc","fig","sfc","gd3","gd7","dx2","bsx","swc"],snes2002:["smc","fig","sfc","gd3","gd7","dx2","bsx","swc"],snes2005:["smc","fig","sfc","gd3","gd7","dx2","bsx","swc"],snes2010:["smc","fig","sfc","gd3","gd7","dx2","bsx","swc"],gb:["gb","gbc","dmg"],gba:["gb","gbc","gba"],vbanext:["gba"],vb:["vb","vboy","bin"],"3do":["iso","bin","cue"],lynx:["lnx"],jaguar:["j64","jag","rom","abs","cof","bin","prg"],a7800:["a78","bin"],a2600:["a26","bin"],ngp:["ngp","ngc"],n64:["n64","v64","z64","bin","u1","ndd"],pce:["pce","bin","iso","cue","ccd","img","chd"],pcfx:["ccd","toc","chd","cue"],sega:["mdx","md","smd","gen","bin","iso","cue","sms","gg","sg","68k","chd"],segacd:["mdx","md","smd","gen","bin","iso","cue","sms","gg","sg","68k","chd"],"32x":["32x","bin","gen","smd","md","cue","iso","sms"],saturn:["bin","cue","iso"],msx:["rom","mx1","mx2","dsk","cas"],bluemsx:["rom","ri","mx1","mx2","col","dsk","cas","sg","sc","m3u"],ws:["ws","wsc"],arcade:["zip"],"fba0.2.97.29":["zip"],mame2003:["zip"],mame:["zip"]}};e.Module=t,window.Module=t}).call(Nenge);